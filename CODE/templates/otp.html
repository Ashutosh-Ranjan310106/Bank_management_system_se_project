{% extends "base.html" %}

{% block title %}OTP Verification{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-16 max-w-md">
    <h1 class="text-5xl font-bold text-purple-400 mb-12 text-center animate-fade-in-down">Enter OTP</h1>
    
    <form method="POST" action="{{ url_for('login') }}" class="bg-gray-800 shadow-2xl rounded-3xl p-8 transition-all duration-300 hover:shadow-purple-500/50 animate-fade-in">
        {{ otpform.hidden_tag() }}
        
        <div class="mb-10 relative">
            <label for="otp" class="block mb-2 text-xl font-medium text-purple-300">One-Time Password</label>
            <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                    <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 2c-1.657 0-3 1.343-3 3h6c0-1.657-1.343-3-3-3z"/>
                    </svg>
                </span>
                {{ otpform.otp(class="w-full pl-12 pr-4 py-4 rounded-xl border-2 border-purple-500 text-gray-200 bg-gray-700 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-400 transition-all duration-300 hover:border-purple-400 text-xl") }}
            </div>
        </div>
        
        <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-4 rounded-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105 hover:shadow-lg text-xl flex items-center justify-center">
            <span>Verify OTP</span>
            <svg class="w-6 h-6 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
        </button>
    </form>

    <!-- Go back link -->
    <p class="mt-6 text-center animate-fade-in text-lg text-gray-400 transition-all duration-300 ease-in-out">
        Didn't receive the OTP?
        <a href="{{ url_for('login') }}"
        class="text-purple-400 hover:text-purple-300 underline underline-offset-4 decoration-purple-500 transition duration-300 ease-in-out">
            Go back
        </a>
    </p>

    <!-- Resend OTP link -->
    <p class="mt-4 text-center animate-fade-in text-lg text-gray-400 transition-all duration-300 ease-in-out">
        <a href="{{ url_for('send_otp') }}"
        class="inline-flex items-center justify-center text-purple-400 hover:text-purple-300 underline underline-offset-4 decoration-purple-500 transition duration-300 ease-in-out">
            <span>Resend OTP</span>
        </a>
    </p>
</div>

<style>
@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translate3d(0, -30px, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-fade-in-down {
    animation: fadeInDown 0.6s ease-out;
}

.animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
    opacity: 0;
}

input {
    transition: all 0.3s ease;
}

input:focus {
    transform: scale(1.02);
}
</style>
{% endblock %}
